/*! virtual-pointer - v0.0.1 - 2013-03-16
* https://github.com/ngryman/virtual-pointer
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(t,e){var i="ontouchstart"in e,n=i?"touchstart":"mousedown",o=i?"touchend":"mouseup",a=i?"touchmove":"mousemove";t.each("click mousedown mouseup mousemove mouseleave touchstart touchmove touchend".split(" "),function(e,i){t.event.special[i]={add:function(t){var e=t.handler;t.handler=function(t){t.isTrigger&&e.apply(this,arguments)}}}}),e.VirtualPointer=function(e){return{x:0,y:0,autoReset:!0,tapStart:function(){this.autoReset&&(this.x=this.y=0);var e=t(document.elementFromPoint(this.x,this.y));e.trigger(new t.Event(n,{pageX:this.x,pageY:this.y,originalEvent:{touches:[{pageX:this.x,pageY:this.y}]}}))},tapEnd:function(){var e=t(document.elementFromPoint(this.x,this.y));e.trigger(o)},move:function(i,n,o,s){var u,h=this,r=Date.now(),c=0;this.tapStart();var m=this.x,p=this.y;(function v(){var l=Date.now();if(c+=l-r,c>=o)return h.tapEnd(),s.call(e),void 0;r=l,h.x=Math.ceil(c/o*i)+m,h.y=Math.ceil(c/o*n)+p;var g=t(document.elementFromPoint(h.x,h.y));g.trigger(t.Event(a,{pageX:h.x,pageY:h.y,originalEvent:{touches:[{pageX:h.x,pageY:h.y}]}})),u=setTimeout(v,0)})()},tap:function(){this.tapStart(),this.tapEnd()},press:function(t,i){var n=this;i=i||1.5*this.PRESS_DURATION,this.tapStart(),setTimeout(function(){n.tapEnd(),t&&t.call(e)},i)},doubleTap:function(t,i){var n=this;i=i||.5*this.DOUBLETAP_DURATION,this.tap(),setTimeout(function(){n.tap(),t.call(e)},i)},drag:function(t,e,i,n){n=n||1.5*this.FLICK_DURATION,this.move(t,e,n,i)},flick:function(t,e,i,n){n=n||.5*this.FLICK_DURATION,this.move(t,e,n,i)},START_EVENT:n,STOP_EVENT:o,MOVE_EVENT:a,PRESS_DURATION:25,DOUBLETAP_DURATION:25,FLICK_DURATION:25}}})(jQuery,window);