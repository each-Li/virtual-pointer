/*! virtual-pointer - v0.0.1 - 2013-06-26
* https://github.com/ngryman/virtual-pointer
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(t,i){var e="ontouchstart"in i,n=e?"touchstart":"mousedown",o=e?"touchend":"mouseup",a=e?"touchmove":"mousemove";t.each("click mousedown mouseup mousemove mouseleave touchstart touchmove touchend".split(" "),function(i,e){t.event.special[e]={add:function(t){var i=t.handler;t.handler=function(t){t.isTrigger&&i.apply(this,arguments)}}}}),i.VirtualPointer=function(i,e){return{x:0,y:0,autoReset:!0,trigger:function(i){var n=e||t(document.elementFromPoint(this.x,this.y));n.trigger(new t.Event(i,{pageX:this.x,pageY:this.y,originalEvent:{touches:[{pageX:this.x,pageY:this.y}]}}))},tapStart:function(){this.autoReset&&(this.x=this.y=0),this.trigger(n)},tapEnd:function(){this.trigger(o)},click:function(){this.trigger("click")},move:function(t,e,n,o){var s,u=this,r=Date.now(),h=0;this.tapStart();var c=this.x,p=this.y;(function l(){var g=Date.now();return h+=g-r,h>=n?(u.tapEnd(),o.call(i),void 0):(r=g,u.x=Math.ceil(h/n*t)+c,u.y=Math.ceil(h/n*e)+p,u.trigger(a),s=setTimeout(l,0),void 0)})()},tap:function(){this.tapStart(),this.tapEnd()},press:function(t,e){var n=this;e=e||1.5*this.PRESS_DURATION,this.tapStart(),setTimeout(function(){n.tapEnd(),t&&t.call(i)},e)},doubleTap:function(t,e){var n=this;e=e||.5*this.DOUBLETAP_DURATION,this.tap(),setTimeout(function(){n.tap(),t.call(i)},e)},drag:function(t,i,e,n){n=n||1.5*this.FLICK_DURATION,this.move(t,i,n,e)},flick:function(t,i,e,n){n=n||.5*this.FLICK_DURATION,this.move(t,i,n,e)},START_EVENT:n,STOP_EVENT:o,MOVE_EVENT:a,PRESS_DURATION:25,DOUBLETAP_DURATION:25,FLICK_DURATION:25}}})(jQuery,window);